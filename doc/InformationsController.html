<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class InformationsController - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="ApplicationController.html">ApplicationController</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-create">#create</a>
    
    <li ><a href="#method-i-destroy">#destroy</a>
    
    <li ><a href="#method-i-edit">#edit</a>
    
    <li ><a href="#method-i-index">#index</a>
    
    <li ><a href="#method-i-new">#new</a>
    
    <li ><a href="#method-i-show">#show</a>
    
    <li ><a href="#method-i-update">#update</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-InformationsController">
  <h1 id="class-InformationsController" class="class">
    class InformationsController
  </h1>

  <section class="description">
    
  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Esse é o método responsável por  adicionar uma nova entrada no banco de dados com os dados inseridos na view new, caso os dados recebidos sejam válidos. Caso os dados sejam válidos, uma nova entrada é criada no banco de dados e o usuário é redirecionado para a view index das informações. Caso os dados não sejam válidos, o usuário é redirecionado para a view new e uma mensagem de erro é exibida na tela.  O método não retorna nenhum valor.</p>
          
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create</span>
  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">require</span>(<span class="ruby-value">:information</span>)
  <span class="ruby-identifier">params</span>[<span class="ruby-value">:information</span>].<span class="ruby-identifier">permit</span>(<span class="ruby-identifier">information_params</span>)
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">information_params</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:published_by</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@information</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">informations_path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">new_information_path</span>,<span class="ruby-value">alert:</span><span class="ruby-string">&quot;Ocorreu um erro.&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment">#redirect_to informations_path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-destroy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destroy</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ação destroy da classe <a href="Information.html"><code>Information</code></a>. Recebe como argumento alguma informação enviada para o servidor. Essa informação é então removida do banco de dados, o usuário é  redirecionado para a view index de informações e uma mensagem confirmando a exclusão da informação é exibida na tela. Não retorna valores.</p>
          
          

          
          <div class="method-source-code" id="destroy-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">destroy</span>
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:id</span>])
  <span class="ruby-ivar">@information</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:notice</span>] = <span class="ruby-node">&quot;#{@information.title} removido.&quot;</span>
  <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">informations_path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-edit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">edit</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ação de edit da classe <a href="Information.html"><code>Information</code></a>. Recebe uma informação como argumento, encontra essa informação no banco de dados e renderiza a view edit. Vale notar que essa view é bastante parecida com a view new, salvo  que os dados atuais da informação a ser editada já são renderizados junto da página. As fontes de informação cadastradas são enviadas para o servidor junto com a informação para que seja possível mudar a fonte da informação, caso desejado. Não retorna valores e não redireciona o usuário.</p>
          
          

          
          <div class="method-source-code" id="edit-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">edit</span>
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:id</span>]
  <span class="ruby-ivar">@sources</span>=<span class="ruby-constant">Source</span>.<span class="ruby-identifier">all</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">index</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Esse metodo representa a ação index da classe information e renderiza a view index, que exibe todas informações cadastradas ou apenas as informações postadas por uma determinada fonte, passada como parâmetro para esse método juntamente com a informação postada. Não retorna nenhum valor e não redireciona o usuário.</p>
          
          

          
          <div class="method-source-code" id="index-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">index</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:information</span>] <span class="ruby-keyword">and</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:information</span>][<span class="ruby-value">:source_id</span>]
    <span class="ruby-ivar">@informations</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:information</span>][<span class="ruby-value">:source_id</span>]).<span class="ruby-identifier">order</span>(<span class="ruby-string">&quot;created_at DESC&quot;</span>)
  
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@informations</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&quot;created_at DESC&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Esse método representa a ação new da classe information.  Renderiza a new view, que recebe dados para a criação de uma nova informação.  Vale notar que a new view recebe todas fontes cadastradas, para a possiblitar funcionalidade de filtrar notícias por fonte. Não retorna valor e não redireciona o usuário.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">new</span>
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@sources</span>=<span class="ruby-constant">Source</span>.<span class="ruby-identifier">all</span>
  <span class="ruby-comment">#@information = Information.new(info_params)</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-show" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ação show da classe <a href="Information.html"><code>Information</code></a>. Recebe uma informação como argumento, econtra essa informação no banco de dados e renderiza a view show para aquela informação.  Não retorna valores e não redireciona o usuário.</p>
          
          

          
          <div class="method-source-code" id="show-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">show</span>
  <span class="ruby-identifier">id</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:id</span>] 
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>) 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-update" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>O método que é responsável por atualizar uma informação com os dados inseridos na view edit. Recebe  os dados enviados pela edit view ao servidor. Caso os dados enviados sejam válidos, a entrada é modificada no banco de dados e o usuário é redirecionado para a view show da informação atualizada. Caso contrário, O usuário é redirecionado para a view index e uma mensagem de erro é exibida na tela. Não retorna valores.  Vale dizer que quando dados inválidos são recebidos, uma exceção é lançada e, por meio do tratamento dessa exceção é que se realiza o procedimento para redirecionar o usuário e exibir a mensagem de erro na tela.</p>
          
          

          
          <div class="method-source-code" id="update-source">
            <pre><span class="ruby-comment"># File app/controllers/informations_controller.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update</span>
  <span class="ruby-ivar">@information</span> = <span class="ruby-constant">Information</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:id</span>]
  <span class="ruby-ivar">@information</span>.<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">information_params</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>
    <span class="ruby-identifier">flash</span>[<span class="ruby-value">:notice</span>] = <span class="ruby-string">&quot;Ocorreu um erro.&quot;</span>
    <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">informations_path</span>
  <span class="ruby-keyword">else</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:notice</span>] = <span class="ruby-string">&quot;Informação atualizada.&quot;</span>
  <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">information_path</span>(<span class="ruby-ivar">@information</span>)
  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

